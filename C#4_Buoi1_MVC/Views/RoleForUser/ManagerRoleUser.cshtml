@using System.Text;
@using C_4_Buoi1_MVC.ViewModel;
@model IEnumerable<UserRoleAspNetVM>
@{
    ViewData["Title"] = "Add Roles For User";
    int stt = 0;
}
<h2><i style="margin: 0 10px;" class="fa-solid fa-list"></i>  Danh sách người dùng</h2>    
   
@if (Model != null)
{  
<table class="table table-bordered" style="margin-top: 40px;text-align: center; top: auto!important; bottom: auto!important;">
    <thead style="background-color: rgb(240 253 255);">
        <tr>
            <th>
                STT
            </th>
            <th>
                Email
            </th>
            <th>
                Quyền của bạn
            </th>
            <th>Chức năng</th>
        </tr>
  </thead>
    <tbody>
        @foreach (var user in Model) {
                stt++;
                <tr>
                <td>
                    @stt
                </td>
                <td>
                    @user.Email
                </td>
                <td>
                    @for (int i = 0; i < user.Roles.Count; i++)
                    {
                        <span>@user.Roles[i]</span>  
                    }
                </td>
                <td>
                    @if (!user.Roles.Any(c=>c == "ADMIN"))
                    {
                        <a title="Cập nhật quyền" type="submit" asp-area="" asp-controller="RoleForUser" asp-action="UpdateRoleUserView" asp-route-id="@user.Id" class="btn btn-outline-success">
                            <i class="fa-solid fa-wrench"></i>
                        </a>
                        @*<a title="Xóa người dùng" asp-area="" onclick="NotificationDelete()" asp-controller="RoleForUser" asp-action="DeleteUser" asp-route-id="@user.Id" type="submit" class="btn btn-outline-warning">
                            <i class="fa-solid fa-trash-can"></i>
                        </a>*@
                    }
                </td>
            </tr>
        }
    </tbody>
</table>
}
else
{
    <svg class="pl" width="240" height="240" viewBox="0 0 240 240">
	<circle class="pl__ring pl__ring--a" cx="120" cy="120" r="105" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 660" stroke-dashoffset="-330" stroke-linecap="round"></circle>
	<circle class="pl__ring pl__ring--b" cx="120" cy="120" r="35" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 220" stroke-dashoffset="-110" stroke-linecap="round"></circle>
	<circle class="pl__ring pl__ring--c" cx="85" cy="120" r="70" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 440" stroke-linecap="round"></circle>
	<circle class="pl__ring pl__ring--d" cx="155" cy="120" r="70" fill="none" stroke="#000" stroke-width="20" stroke-dasharray="0 440" stroke-linecap="round"></circle>
</svg>
}

</div>
